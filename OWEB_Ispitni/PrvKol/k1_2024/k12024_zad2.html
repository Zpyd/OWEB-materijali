<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zad2</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <style type="text/css">
        header {
            background-color: rgb(176, 13, 13);
            color: aliceblue;
        }

        .rowN1 {
            background-color: rgb(211, 211, 169);
        }

        .rowN1:hover {
            background-color: rgb(184, 184, 157);
        }

        .rowN2 {
            background-color: rgb(235, 235, 201);
        }

        .rowN2:hover {
            background-color: rgb(106, 106, 100);
        }

        .rowSkrtnato {
            text-decoration: line-through;

        }

        .rowCompleted {
            background-color: rgb(125, 125, 110);
            color: aliceblue;
        }

        .closeBtnN:hover {
            cursor: pointer;
        }
    </style>
    <script>
        let brItems = 0;

        document.addEventListener("DOMContentLoaded", () => {
            let vnesiBtn = document.getElementById("vnesiBtn");
            let contentBar = document.getElementById("do");
            const toDoItems = document.getElementById("toDoItems");

            vnesiBtn.addEventListener("click", () => {
                if (contentBar.value) {
                    addItem(contentBar.value);
                } else { alert("treba neso da uneses"); }
            }
            )


            contentBar.addEventListener("keydown", function (e) {
                if (e.key === "Enter") {
                    if (contentBar.value) {
                        addItem(contentBar.value);
                    } else { alert("treba neso da uneses"); }
                }
            });
        })


        function addItem(value) {
            let curId = brItems;
            let completed = false;
            let novElement = document.createElement("div");
            novElement.classList.add("row");
            if (brItems % 2) {
                novElement.classList.add("rowN1")
            } else { novElement.classList.add("rowN2") }
            novElement.id = `indeks${curId}`;
            novElement.innerHTML = `
                <div class="col-1">
                <p id="check${curId}"></p>
            </div>
            <div class="col-10">
                <p id="content${curId}">${value}</p>
            </div>
            <div class="col-1 closeBtnN">
                <p id="close${curId}">X</p>
            </div>
        </div>`;

            toDoItems.appendChild(novElement);
            let item = document.getElementById(`indeks${curId}`);
            item.addEventListener("click", () => {
                item.classList.toggle("rowCompleted");
                document.getElementById(`content${curId}`).classList.toggle("rowSkrtnato");
                let check = document.getElementById(`check${curId}`);
                check.textContent = check.textContent ? "" : "âœ”";
            })

            let closeBtnN = document.getElementById(`close${curId}`);
            closeBtnN.addEventListener("click", () => {
                toDoItems.removeChild(novElement);
            });
            brItems++;
        }



    </script>
</head>


<body>
    <header class="container-fluid ">
        <div class="container pb-3">
            <div class="row">
                <p class="display-3 fw-bold text-center p-4">Vnesi brate</p>
            </div>

            <div class="row g-0 text-center align-items-center">
                <div class="col-10">
                    <input class="form-control" type="text" placeholder="Add a comment..." id="do">
                </div>
                <div class="col-2 align-items-center">
                    <input class="btn btn-light w-100" type="submit" value="Vnesi" id="vnesiBtn">
                </div>
            </div>

        </div>
    </header>

    <div class="container-fluid pt-0 pb-9" id="toDoItems"></div>
    <div class="container-fluid pt-3">
    </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>
</body>

</html>